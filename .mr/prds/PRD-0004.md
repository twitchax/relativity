---
id: PRD-0004
title: "WASM Support and GitHub Pages Deployment"
status: done
owner: ""
created: 2025-11-05
updated: 2025-11-05
reconstructed: true

depends_on:
- PRD-0002
- PRD-0003

principles:
- Make the game accessible via web browsers without native installation

acceptance_tests:
- id: uat-001
  name: "Game compiles to WASM and can be served via Trunk for browser play"
  command: cargo make uat
  uat_status: verified

tasks:
- id: T-001
  title: "Add WASM compilation support with Trunk build tooling"
  priority: 1
  status: done
  notes: "Inferred from commits fa8c979, 1c0e52f, 1303f06, be2ba5e"
- id: T-002
  title: "Configure GitHub Pages deployment workflow"
  priority: 2
  status: done
  notes: "Inferred from commit fa8c979"
---

# Summary

Added WebAssembly (WASM) compilation support to enable playing the game directly in web browsers. This included configuring Trunk as the WASM build tool, adding the `getrandom` JS feature for browser compatibility, making the `webgl2` feature conditional for WASM targets only, setting up asset copying for the web build, and creating a GitHub Pages deployment workflow.

# Problem

The game could only be played by building and running native binaries, which limited accessibility. A web-based version would allow anyone to play without installing Rust or compiling the project.

# Goals

1. Compile the game to WebAssembly using Trunk
2. Handle browser-specific requirements (getrandom, webgl2)
3. Automate deployment to GitHub Pages
4. Maintain native build compatibility alongside WASM

# History

## 2025-11-05 — Reconstructed from Git History
- **Source**: Inferred from PR #5 (copilot/add-wasm-support-for-bevy), commits [fa8c979, 1c0e52f, 1303f06, be2ba5e]
- **Status**: ✅ Reconstructed
- **Notes**: This PRD was automatically generated by `mr bootstrap`
